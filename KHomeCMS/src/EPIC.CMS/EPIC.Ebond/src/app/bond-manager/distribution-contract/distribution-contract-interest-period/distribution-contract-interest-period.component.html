
<app-loading-page *ngIf="isLoading"></app-loading-page>
<div class="grid" *ngIf="!isLoading">
    <div class="col-12">
        <div class="card pt-0">
			<!-- <h5> Thông tin lợi tức </h5> -->
            <p-table 
                #productBondInfoTable [value]="rows" *ngIf="isGranted([PermissionBondConst.Bond_HDPP_TTTraiTuc_DanhSach])"
                [loading]="isLoading" [rowHover]="true" [paginator]="false" responsiveLayout="scroll" dataKey="code"
                [scrollable]="true" scrollHeight="{{(screenHeight*0.56) + 'px'}}" styleClass="p-datatable-gridlines">
                <ng-template pTemplate="header">
					<tr>
					    <th style="min-width: 5rem;" pFrozenColumn alignFrozen="left"> STT </th>
                        <th style="min-width: 20rem;" pFrozenColumn alignFrozen="left" class="b-border-frozen-left"> Kỳ nhận </th>
                        <th style="min-width: 10rem;" class="justify-content-end"> Trái tức </th>
                        <th style="min-width: 10rem;"> Ngày trả </th>
                        <th style="min-width: 15rem;" class="justify-content-end"> Lợi nhuận </th>
                        <th style="min-width: 10rem;" class="justify-content-end"> Số ngày </th>
                        <th style="min-width: 10rem;" pFrozenColumn alignFrozen="right" [frozen]="true" class="b-border-frozen-right"> Trạng thái </th>
					</tr>
				</ng-template>
                <ng-template pTemplate="body" let-row let-index="rowIndex">
                    <tr>
                        <td style="min-width: 5rem;" pFrozenColumn alignFrozen="left"> {{ index + 1 }} </td>
                        <td style="min-width: 20rem;" pFrozenColumn alignFrozen="left" class="b-border-frozen-left"> 
                            {{ (index !== (rows.length - 1)) ? 'Tạm ứng lợi tức trái phiếu kỳ 0' + (index+1) : 'Tất toán cuối kỳ' }}
                        </td>
                        <td style="min-width: 10rem;" class="justify-content-end"> {{ utils.transformPercent(couponInfo.interestRate) + '%' }} </td>
                        <td style="min-width: 10rem;"> {{ row.payDate | dateview }} </td>
                        <td style="min-width: 15rem;" class="justify-content-end"> {{ utils.transformMoney(row.coupon) }} </td>
                        <td style="min-width: 10rem;" class="justify-content-end"> {{ row.numberOfDays }} </td>
                        <td style="min-width: 10rem;" pFrozenColumn alignFrozen="right" [frozen]="true" class="b-border-frozen-right"> 
                            Chưa đến hạn
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
					<tr>
						<td colspan="7">Không có dữ liệu.</td>
					</tr>
				</ng-template>
				<ng-template pTemplate="loadingbody">
					<tr>
						<td colspan="7"> Đang tải dữ liệu ... </td>
					</tr>
				</ng-template>
            </p-table>
        </div>
		<!-- THEM & SUA-->
    </div>
</div>


