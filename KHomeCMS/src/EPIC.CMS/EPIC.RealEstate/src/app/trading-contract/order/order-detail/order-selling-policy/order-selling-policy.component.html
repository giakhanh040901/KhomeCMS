<div class="grid mx-0 mt-4">
	<div class="col-12">
		<div class="card p-0">
			<div>
				<div class="flex justify-content-between mb-3">
					<h5 class="title-info">Danh sách ưu đãi</h5>
				</div>
				<p-table [value]="dataSelected" [loading]="isLoading" [rowHover]="true" [showCurrentPageReport]="true"
					[paginator]="false" (onPageChange)="setPage($event)" responsiveLayout="scroll" dataKey="id"
					[resizableColumns]="false" [scrollable]="true" [scrollHeight]="getTableHeight(56)"
					styleClass="custom-table">

					<ng-template pTemplate="header" let-columns>
						<tr>
							<th style="
                    max-width: 5rem;
                    min-width: 5rem;
                    justify-content: center;
                  " pFrozenColumn alignFrozen="left">
								#ID
							</th>
							<th style="min-width: 10rem">Mã ưu đãi</th>
							<th style="min-width: 20rem">Tên ưu đãi cho CĐT</th>
							<th style="min-width: 20rem">Nguồn ưu đãi</th>
							<th style="min-width: 20rem">Giá trị quy đổi</th>
							<th style="
                    max-width: 3rem;
                    min-width: 3rem;
                    justify-content: center;
                  " pFrozenColumn alignFrozen="right" [frozen]="true" class="b-table-actions"></th>
						</tr>
					</ng-template>
					<ng-template pTemplate="body" let-row let-rowIndex="rowIndex" let-columns="columns">
						<tr>
							<td style="max-width: 5rem; min-width: 5rem; justify-content: center;" pFrozenColumn
								alignFrozen="left" [frozen]="true">
								{{ row.projectPolicyId ?? row.sellingPolicyId }}
							</td>
							<td style="min-width: 10rem">{{ row.code }}</td>
							<td style="min-width: 20rem">{{ row.name }}</td>
							<td style="min-width: 20rem">{{ OrderSellingPolicyConst.getName(row.policyType) }}</td>
							<td style="min-width: 20rem">{{ utils.transformMoney(row.conversionValue) }}</td>
							<td style=" max-width: 3rem; min-width: 3rem; justify-content: center;" 
								pFrozenColumn alignFrozen="right" [frozen]="true" class="b-table-actions">
							</td>
						</tr>
					</ng-template>
					<ng-template pTemplate="emptymessage">
						<tr>
							<td colspan="7">Không có dữ liệu.</td>
						</tr>
					</ng-template>
					<ng-template pTemplate="loadingbody">
						<tr>
							<td colspan="7">Đang tải dữ liệu ...</td>
						</tr>
					</ng-template>
				</p-table>
				<p-paginator [rows]="page.pageSize" [totalRecords]="page.totalItems"
					[rowsPerPageOptions]="page.perPageOptions"
					currentPageReportTemplate="Tất cả {{ page.totalItems }} dòng" showCurrentPageReport="true"
					(onPageChange)="setPage($event)">
				</p-paginator>
			</div>
		</div>
	</div>
</div>